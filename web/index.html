<!DOCTYPE html>
<html>
    <head>
        <title>Node.js</title>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
        <script type="text/javascript" src="/socket.io/socket.io.js"></script>
        <script type="text/javascript">
var io = io.connect('http://nodejs.playground.cunningsoft.de:8000');
io.on('render', function(world) {
    console.log(world);
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');

    canvas.width = canvas.width;
    $.each(world.players, function(index, player) {
        context.fillStyle = player.color;
        context.fillRect(player.position.x - 5, player.position.y - 5, player.width, player.height);

//        context.beginPath();
//        context.arc(player.position.x, player.position.y, 50, 0, 2 * Math.PI);
//        context.stroke();

        context.fillRect(player.headingPosition.x, player.headingPosition.y, 1, 1);

        context.fillRect(player.currentTarget.x - 2, player.currentTarget.y - 2, 4, 4);
    });
});
        </script>
    </head>
    <body>
        <canvas id="canvas" width="600" height="400" style="background: #d3d3d3"></canvas>
    </body>
</html>
